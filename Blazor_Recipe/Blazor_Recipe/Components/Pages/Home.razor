@page "/"
@using Blazor_Recipe.Components.Components
@inject Shared.RecipeService RecipeService
<PageTitle>Home</PageTitle>

@attribute [StreamRendering(true)]

@if (_recipes is null)
{
    <MudText>Loading...</MudText>
}
else
{
    <Blazor_Recipe.Client.Components.RecipeSearch />
    @foreach (var recipe in _recipes)
    {
        <RecipeCard Recipe="recipe" />
    }
}
@code {
    private IEnumerable<Shared.Models.Recipe> _recipes;


    protected override async Task OnInitializedAsync()
    {
        _recipes = (await RecipeService.GetRecipesAsync_Fake(new List<string> { "blueberry" })).ToList();
    }
}
